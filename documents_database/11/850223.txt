he was the son of ma mun i ibn muhammad the greatest threat to ma mun s rule came in the form of the ghaznavid sultan mahmud of ghazni mahmud viewed khwarazm as a strategically important province as it would allow him to widen the front against his biggest enemy the karakhanids of transoxiana when the caliph al qadir sent ma mun several awards including an investiture patent for khwarazm confirming him as independent ruler in 1014 ma mun refused to accept the awards in his capital fearing that personally accepting the symbols of independence would anger mahmud he instead sent out a delegation to accept the awards on the steppe ma mun also married mahmud s sister hurra yi kalji who had previously been married to his brother in 1015 or 1016 despite these efforts to placate mahmud the ghaznavid demanded that ma mun put his name in the khutba in effect acknowledging his suzerainty although the nobility and the army were opposed to such measure ma mun had no choice but to give in he agreed to place mahmud s name in the khutba and to fulfil other humiliating demands in response the army revolted and ma mun