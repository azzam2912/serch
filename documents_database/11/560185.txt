the election was denied not only by the rivaling duchy of saxe wittenberg but also by the archbishop of cologne who traditionally held the privilege to crown the elected king at aachen moreover henry of carinthia had acted as the bohemian elector voting for frederick although he had already been deposed as king by john of luxembourg in 1310 louis was crowned by peter von aspelt the archbishop of mainz while frederick of habsburg received consecration by the cologne archbishop though not at aachen but in bonn the legal uncertainty of the double election resulted in a long standing conflict finally settled by the 1322 battle of m hldorf in favour of louis the controversy broadened as pope john xxii in avignon willing to restore the papal claim to power nevertheless dependent on the french royal house of capet refused to acknowledge louis election instead he took the occasion to install robert of naples from the capetian house of anjou as senator of rome and regent of the imperial kingdom of italy in 1317 the king however was the choice of the ghibelline party which included not only the house of wittelsbach but also the bohemian luxembourgs and the visconti