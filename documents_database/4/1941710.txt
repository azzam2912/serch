robin orders the guard not to furious as the rehearsal dinner started ten minutes earlier and she is now in a laser tag security office waiting for the police to arrive they then tell the story of how they ended up there a few months earlier barney hit upon the idea of a rehearsal dinner at a laser tag arena the gang hates the idea and robin reminds him that their marriage will be about compromise such as when she agreed to hold the wedding in new york city rather than canada like she wanted to when they first got engaged barney agrees they ll have a normal rehearsal dinner but it is obvious he isn t going to drop the idea as a wedding present ted tells robin and barney that he s willing to take up piano lessons again and play at the dinner which they refuse until ted offers to dress like liberace while doing it a few days after robin surprised barney with his bachelor party he tearfully declares that the wedding is off and asks her to move out of his apartment robin convinced by barney s tearful performance is shocked and ready to pack