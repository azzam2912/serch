the army was transferred to reinforce the confederate army of the potomac at the first battle of bull run which was its only major action after the battle the army was merged into the army of the potomac the army of the shenandoah originated with the various militia and volunteer companies sent to seize and defend the town of harpers ferry virginia modern day west virginia to organize and train the companies virginia state commander robert e lee initially appointed thomas j jackson to command the post jackson formed five regiments of infantry and a battery of artillery from the various companies forming the basis of the stonewall brigade on may 15 joseph e johnston replaced jackson as commander of harpers ferry and continued to receive additional regiments from throughout the confederacy he would eventually have four brigades of infantry and an independent regiment of cavalry the 1st virginia cavalry commanded by j e b stuart in mid june forces from the union department of pennsylvania commanded by robert patterson began moving south towards harpers ferry fearing that the terrain around the town made it indefensible johnston had the bridges and as much equipment in the town as possible destroyed