the battle took place at mecca in western arabia and was fought to determine who would gain guardianship over the city during the annual pilgrimage it ended with an abbasid saffarid victory and the expulsion of the tulunid forces from mecca ahmad ibn tulun a turkish soldier in the service of the abbasids had been appointed governor of egypt in 868 over the course of the next several years he took advantage of the instability of the abbasid central government and managed to turn egypt into a strong power base for himself gaining absolute mastery over its administration and significantly improving its fiscal situation as ibn tulun grew increasingly entrenched in his governorship he continued to acknowledge the suzerainty of the abbasid caliph al mu tamid but at the same time he gradually became a de facto autonomous amir in his own right backed by his own personal army that he had built and the large stream of revenues that egypt provided him ibn tulun s power soon made him a major rival to the effective ruler of the abbasid state al mu tamid s brother and regent al muwaffaq and in 877 the latter sent an army on an