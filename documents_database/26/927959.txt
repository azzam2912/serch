the filter aims to improve the appearance of decoded pictures it is a part of the specification for both the smpte vc 1 codec and the itu h 264 iso mpeg 4 avc codec in contrast with older mpeg 2 4 standards the h 264 deblocking filter is not an optional additional feature in the decoder it is a feature on both the decoding path and on the encoding path so that the in loop effects of the filter are taken into account in reference macroblocks used for prediction when a stream is encoded the filter strength can be selected or the filter can be switched off entirely otherwise the filter strength is determined by coding modes of adjacent blocks quantization step size and the steepness of the luminance gradient between blocks the filter operates on the edges of each 4 4 or 8 8 transform block in the luma and chroma planes of each picture each small block s edge is assigned a boundary strength based on whether it is also a macroblock boundary the coding intra inter of the blocks whether references in motion prediction and reference frame choice differ and whether it is a luma or chroma