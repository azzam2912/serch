the stack sortable permutations are exactly the permutations that do not contain the permutation pattern 231 they are counted by the catalan numbers and may be placed in bijection with many other combinatorial objects with the same counting function including dyck paths and binary trees the problem of sorting an input sequence using a stack was first posed by who gave the following linear time algorithm closely related to algorithms for the later all nearest smaller values problem knuth observed that this algorithm correctly sorts some input sequences and fails to sort others for instance the sequence 3 2 1 is correctly sorted the three elements are all pushed onto the stack and then popped in the order 1 2 3 however the sequence 2 3 1 is not correctly sorted the algorithm first pushes 2 and pops it when it sees the larger input value 3 causing 2 to be output before 1 rather than after it because this algorithm is a comparison sort its success or failure does not depend on the numerical values of the input sequence but only on their relative order that is an input may be described by the permutation needed to form that