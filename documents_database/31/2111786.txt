following the cromwellian conquest of ireland he went into exile on the continent and served in a force of irish troops led by richard in the french army during richard s absences lisagh served as the de facto commander of the unit following the 1656 treaty of brussels between the exiled charles and the spanish farrell and his second in command connell ferrall defected to the spanish and turned over the key flanders fortress of saint ghislain to them farrell then served as commander of an irish regiment for charles in the spanish army following the restoration the regiment waited at dunkirk alongside another irish unit led by john fitzgerald the penal laws against catholics effectively barred them from serving in the restored royal irish army following the 1661 marriage treaty between england and portugal charles acquired the mediterranean enclave of tangier as part of its new garrison he transferred his irish regiments from dunkirk farrell was involved in much of the early fighting with the surrounding moorish forces but later left and returned to ireland