the screenplay was written by ross thomas and dennis o flaherty based on the novel of the same name by joe gores it stars frederic forrest as detective story writer dashiell hammett who gets caught up in a mystery very much like one of his own stories marilu henner plays hammett s neighbor kit conger and peter boyle plays jimmy ryan an old friend from hammett s days as a pinkerton agent the film was entered into the 1982 cannes film festival san francisco based dashiell hammett trying to put his pinkerton detective days behind him while establishing himself as a writer finds himself drawn back into his old life one last time by the irresistible call of friendship and to honor a debt in 1928 hammett known to his librarian neighbor kit and other acquaintances as sam is holed up in a cheap apartment hard at work at his typewriter each day he drinks heavily smokes too much and has coughing fits one day a friend and mentor from his pinkerton days jimmy ryan turns up with a request that hammett help him track down a chinese prostitute named crystal ling in the chinatown district of san francisco an