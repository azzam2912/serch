succeeding his father zhang zhongwu he briefly ruled lulong circuit headquartered in modern beijing as its military governor jiedushi in de facto independence from the imperial government but fearing a mutiny he fled to the imperial capital chang an and thereafter served as an imperial general during huang chao s rebellion against emperor xizong zhang surrendered to huang chao s qi state but plotted to undermine it when this was discovered qi executed him it is not known when zhang zhifang was born he was a son of zhang zhongwu who had seized lulong circuit from zhang jiang in 841 with the approval of emperor wuzong but without actual support from imperial troops zhang zhongwu thereafter ruled lulong in de facto independence from the imperial government but followed emperor wuzong s orders during emperor wuzong s campaigns against the huigu khanate remnants and the warlord liu zhen and therefore enjoyed a strong relationship with the imperial government at some point zhang zhifang became the commander of zhang zhongwu s guard troops zhang zhongwu died in 849 during the reign of emperor wuzong s successor and uncle emperor xu nzong the soldiers supported zhang zhifang to succeed him and therefore emperor